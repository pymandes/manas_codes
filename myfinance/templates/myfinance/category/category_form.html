{% load crispy_forms_tags %}
<!-- <div class="col-md-8 order-md-1">
	<h4 class="mb-3">Add Categories</h4>
<form method="POST" enctype="multipart/form-data">

	
	{% csrf_token %}

	{{ form|crispy }}
	
	<input type="submit" value="Submit">
</form>
</div> -->
<div class="card mb-3 border border-0">
    <div class="card-body">
      <h2 class="card-title">Categories</h2>
    </div>
</div>
<div class="card mb-3 text-bg-light border border-0">
    <!-- <img src="..." class="card-img" alt="..."> -->
    <div class="col-md-7 col-lg-8 card-body">
      <h5 class="card-title mb-3">Add Category</h5>
      <!-- <form method="POST" class="needs-validation" novalidate>
        {% csrf_token %}
      <div class="row g-4">
        <div class="col-sm-4">
          <label for="name" class="form-label">Name</label>
          <input type="text" name="name" class="form-control" id="name" placeholder="" value="" required>
          <div class="invalid-feedback">
            Valid name is required.
          </div>
        </div>

        <div class="col-sm-5">
          <label for="comments" class="form-label">Comments</label>
          <input type="text" name="comments" class="form-control" id="comments" placeholder="" value="" required>
          <div class="invalid-feedback">
            Valid comments is required.
          </div>
        </div>
        <div class="col-sm-3 d-flex align-items-end">
            <button class="btn btn-outline-primary" type="submit">Add Category</button>
        </div>  
        <div class="col-sm-5">
            {% if message %}
            <div class="alert alert-success" role="alert">
                {{ message }}
              </div>
            {% endif %}
        </div>     
    </div>
    </form> -->

    <form hx-post="/myfinance/add_category/"
          hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
          hx-target="#categories">
          <div class="row g-4">
            <div class="col-sm-4">
              <label for="name" class="form-label">Name</label>
              <input type="text" name="name" class="form-control" id="name" placeholder="" value="" required>
              <div class="invalid-feedback">
                Valid name is required.
              </div>
            </div>
    
            <div class="col-sm-5">
              <label for="comments" class="form-label">Comments</label>
              <input type="text" name="comments" class="form-control" id="comments" placeholder="" value="" required>
              <div class="invalid-feedback">
                Valid comments is required.
              </div>
            </div>
            <div class="col-sm-3 d-flex align-items-end">
                <button class="btn btn-outline-primary" type="submit">Add Category</button>
            </div>  
            <div class="col-sm-5">
                {% if message %}
                <div class="alert alert-success" role="alert">
                    {{ message }}
                  </div>
                {% endif %}
            </div>     
        </div>
    </form>
  </section>
  <!-- <section>
    <p id="categories"><em>Awaiting interaction...</em></p>
  </section> -->

    </div>
</div>